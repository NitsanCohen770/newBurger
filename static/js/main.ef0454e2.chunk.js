(this.webpackJsonpnewburgers=this.webpackJsonpnewburgers||[]).push([[0],{103:function(e,t,r){},105:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(34),c=r.n(a),o=(r(75),r(76),r(12)),i=r(8),s=r(5),l=r(19),d=r(20),u=r(22),j=r(21),b=r(59),h=r.n(b),O=r(31),p=r.n(O),m=r.p+"static/media/burger-logo.2b50d8af.jpeg",g=r(60),f=r.n(g),x=r(1),v=function(e){return Object(x.jsx)("div",{className:f.a.Logo,style:{height:e.height},children:Object(x.jsx)("img",{src:m,alt:"MyBurger"})})},_=r(36),y=r.n(_),k=r(61),C=r.n(k),S=function(e){return Object(x.jsx)("li",{onClick:e.showSideDrawer,className:C.a.NavigationItem,children:Object(x.jsx)(o.Link,{to:e.link,onClick:e.clicked,children:e.children})})},I="ADD_INGREDIENT",N="REMOVE_INGREDIENT",w="SET_INGREDIENTS",B="RESET_INGREDIENTS",D="FETCH_INGREDIENTS_FAILED",T="PURCHASE_BURGER_START",A="PURCHASE_BURGER_SUCCESS",L="PURCHASE_BURGER_FAIL",E="FETCH_ORDER_INIT",G="FETCH_ORDER_SUCCESS",P="FETCH_ORDER_FAIL",R="PURCHASE_INIT",U="SIGNUP_SUCCESS",H="AUTH_START",M="AUTH_SUCCESS",F="AUTH_FAIL",z="AUTH_LOGOUT",Z="USER_LOGOUT",q="USER_DATA_RECIEVED",K="CHANGE_USER_INPUT",W=r(29),Y=r.n(W),X=Y.a.create({baseURL:"https://valued-context-300911-default-rtdb.europe-west1.firebasedatabase.app/"}),V=function(){return function(e){X.get("https://valued-context-300911-default-rtdb.europe-west1.firebasedatabase.app/ingredients.json").then((function(t){var r;e((r=t.data,{type:w,ingredients:r}))})).catch((function(e){}))}},$=r(3),J=function(e){return{type:L,error:e}},Q=function(){return{type:T}},ee=function(e){return function(t){var r=localStorage.getItem("token"),n=localStorage.getItem("userEmail").split("@").join("").split(".").join("");Q(),X.post("/orders/".concat(n,".json?auth=").concat(r),e).then((function(r){t(function(e,t){return{type:A,orderId:t,orderData:e}}(r.data.name,e))})).catch((function(e){t(J(e))}))}},te=function(){return function(e,t){var r=t().auth.email,n=t().auth.token;r=r.split("@").join("").split(".").join(""),X.get("/userData/".concat(r,".json?auth=").concat(n)).then((function(t){var r=Object.keys(t.data);e(function(e,t){return{type:q,userData:e,folderKey:t}}(t.data,r))})).catch((function(t){e(J(t))}))}},re=function(){return function(e){var t=localStorage.getItem("token"),r=localStorage.getItem("userEmail").split("@").join("").split(".").join("");X.get("/orders/".concat(r,".json?auth=").concat(t)).then((function(t){var r=[];for(var n in t.data)r.push(Object($.a)(Object($.a)({},t.data[n]),{},{id:n}));e({type:G,orders:r})})).catch((function(t){e({type:P,error:t})}))}},ne=function(e,t){return{type:K,payload:{textInput:e,inputType:t}}},ae=function(){return{type:H}},ce=function(e){return{type:M,idToken:e.idToken,userId:e.localId,email:e.email}},oe=function(e){return{type:F,erorr:e}},ie=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),function(e){e({type:z}),e({type:Z})}},se=function(e){return function(t){setTimeout((function(){t(ie())}),1e3*+e)}},le=function(e){return function(t){t(ae());var r={email:e.email,password:e.password,returnSecureToken:!0},n={fullName:e.fullName,email:e.email,phone:e.phone,street:e.street,floor:e.apartment,city:e.city,sendMails:e.checkbox};Y.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBOx2gchldYYTxBKTfzvmP21ZKGyShDsVU",r).then((function(r){var n;console.log(r),t((n=e.fullName,{type:U,fullName:n}))})).then((function(t){X.post("/userData/".concat(e.email.split("@").join("").split(".").join(""),".json"),n)})).catch((function(e){console.log(e),t(oe(e))}))}},de=function(){var e=Object(s.d)((function(e){return e.auth.success})),t=Object(s.c)();return Object(x.jsxs)("ul",{className:y.a.NavigationItems,children:[Object(x.jsx)(S,{link:"/",children:"\u05d1\u05d5\u05e0\u05d4 \u05d4\u05d4\u05de\u05d1\u05d5\u05e8\u05d2\u05e8\u05d9\u05dd"}),e&&Object(x.jsx)(S,{link:"/orders",children:"\u05d4\u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05e9\u05dc\u05d9"}),e?Object(x.jsx)(S,{link:"/",clicked:function(){return t(ie())},children:"\u05d4\u05ea\u05e0\u05ea\u05e7"}):Object(x.jsx)(S,{link:"/auth",children:"\u05d4\u05ea\u05d7\u05d1\u05e8"})]})},ue=function(e){return Object(x.jsx)("ul",{className:y.a.NavigationItems,children:Object(x.jsx)(S,{showSideDrawer:e.showSideDrawer,children:"\u05ea\u05e4\u05e8\u05d9\u05d8"})})},je=function(e){return Object(x.jsxs)("header",{className:p.a.Toolbar,children:[Object(x.jsx)("div",{className:p.a.Logo,children:Object(x.jsx)(o.Link,{to:"/",children:Object(x.jsx)(v,{})})}),Object(x.jsx)("nav",{className:p.a.DesktopOnly,children:Object(x.jsx)(de,{})}),Object(x.jsx)("nav",{className:p.a.MobileOnly,children:Object(x.jsx)(ue,{showSideDrawer:e.clicked})})]})},be=r(32),he=r.n(be),Oe=r(62),pe=r.n(Oe),me=function(e){return e.show?Object(x.jsx)("div",{onClick:e.disable,className:pe.a.Backdrop}):null},ge=function(e){var t=[he.a.SideDrawer,he.a.Close];return e.show&&(t[1]=he.a.Open),Object(x.jsxs)(n.Fragment,{children:[Object(x.jsx)(me,{show:e.show,disable:e.closed}),Object(x.jsxs)("div",{className:t.join(" "),onClick:e.closed,children:[Object(x.jsx)("div",{className:he.a.Logo,children:Object(x.jsx)(v,{})}),Object(x.jsx)("nav",{style:{color:"red"},children:Object(x.jsx)(de,{})})]})]})},fe=function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={showSideDrawer:!1,backdrop:!1},e.openSideDrawerHandler=function(){e.setState((function(e){return{showSideDrawer:!e.showSideDrawer}}))},e}return Object(d.a)(r,[{key:"render",value:function(){return Object(x.jsxs)(n.Fragment,{children:[Object(x.jsx)(je,{clicked:this.openSideDrawerHandler}),Object(x.jsx)("div",{children:Object(x.jsx)(ge,{show:this.state.showSideDrawer,closed:this.openSideDrawerHandler})}),Object(x.jsx)("main",{className:h.a.Content,children:this.props.children})]})}}]),r}(n.Component),xe=r(18),ve=r(106),_e=r(107),ye=r(40),ke=r(26),Ce=r(24),Se=r.n(Ce),Ie=(r(103),r(63)),Ne=r.n(Ie),we=function(){return Object(x.jsx)("div",{className:Ne.a.Loader,children:"Loading..."})};var Be=function(e){var t=Object(s.d)((function(e){return e.auth.loading})),r=Object(s.d)((function(e){return e.auth.success})),a=Object(s.c)(),c=Object(ke.a)(),o=c.register,l=c.handleSubmit,d=(c.watch,c.errors,function(e){var t;a((t=e,function(e){e(ae());var r={email:t.email,password:t.password,returnSecureToken:!0};Y.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBOx2gchldYYTxBKTfzvmP21ZKGyShDsVU",r).then((function(t){var r=new Date((new Date).getTime()+1e3*t.data.expiresIn);localStorage.setItem("token",t.data.idToken),localStorage.setItem("expirationDate",r),localStorage.setItem("userId",t.data.localId),localStorage.setItem("userEmail",t.data.email),e(ce(t.data)),e(se(t.data.expiresIn))})).catch((function(t){console.log(t),e(oe(t))}))}))}),u=Object(n.useState)(!1),j=Object(xe.a)(u,2),b=j[0],h=j[1];return r&&setTimeout((function(){return h(!0)}),5e3),Object(x.jsxs)("div",{className:Se.a.container,children:[Object(x.jsxs)(ve.a,{onSubmit:l(d),children:[Object(x.jsxs)(ve.a.Group,{controlId:"formBasicEmail",children:[Object(x.jsx)(ve.a.Label,{children:"\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05de\u05d9\u05d9\u05dc"}),Object(x.jsx)(ve.a.Control,{className:Se.a.email,name:"email",type:"email",placeholder:"\u05d4\u05de\u05d9\u05d9\u05dc \u05e9\u05dc\u05da",ref:o({pattern:/^([a-zA-Z0-9]+(?:[.-]?[a-zA-Z0-9]+)*@[a-zA-Z0-9]+(?:[.-]?[a-zA-Z0-9]+)*\.[a-zA-Z]{2,7})$/}),required:!0})]}),Object(x.jsxs)(ve.a.Group,{controlId:"formBasicPassword",children:[Object(x.jsx)(ve.a.Label,{children:"\u05e1\u05d9\u05e1\u05de\u05d0"}),Object(x.jsx)(ve.a.Control,{name:"password",type:"password",placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0",required:!0,ref:o({required:!0,maxLength:20})})]}),Object(x.jsx)(ve.a.Group,{controlId:"formBasicCheckbox",children:" "}),Object(x.jsx)(_e.a,{onClick:d,variant:r?"success":"primary",type:"submit",children:r?"\u05d4\u05ea\u05d7\u05d1\u05e8\u05ea \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!":"\u05d4\u05ea\u05d7\u05d1\u05e8"}),t&&Object(x.jsx)(we,{}),Object(x.jsx)(ye.LinkContainer,{to:"/signUp",children:Object(x.jsx)(_e.a,{className:Se.a.Button,variant:"warning",type:"button",children:"\u05d0\u05d9\u05e0\u05da \u05e8\u05e9\u05d5\u05dd? \u05dc\u05d7\u05e5 \u05db\u05d0\u05df \u05dc\u05d4\u05e8\u05e9\u05dd"})})]}),b&&Object(x.jsx)(i.c,{to:"/"})]})},De=r(64),Te=function(){var e=Object(s.d)((function(e){return e.auth.fullName})),t=Object(n.useState)(!1),r=Object(xe.a)(t,2),a=r[0],c=r[1];e&&setTimeout((function(){return c(!0)}),3e3);var o=Object(s.c)(),l=Object(ke.a)(),d=l.register,u=l.handleSubmit,j=(l.watch,l.errors,function(e){o(le(e))});return Object(x.jsxs)("div",{className:Se.a.container,children:[Object(x.jsxs)(ve.a,{onSubmit:u(j),children:[Object(x.jsxs)(ve.a.Row,{children:[Object(x.jsxs)(ve.a.Group,{as:De.a,controlId:"formGridEmail",children:[Object(x.jsx)(ve.a.Label,{children:"\u05de\u05d9\u05d9\u05dc"}),Object(x.jsx)(ve.a.Control,{className:Se.a.email,type:"email",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc",name:"email",ref:d({pattern:/^([a-zA-Z0-9]+(?:[.-]?[a-zA-Z0-9]+)*@[a-zA-Z0-9]+(?:[.-]?[a-zA-Z0-9]+)*\.[a-zA-Z]{2,7})$/})}),Object(x.jsx)(ve.a.Text,{className:"text-muted",children:"\u05d0\u05e0\u05d5 \u05dc\u05e2\u05d5\u05dc\u05dd \u05dc\u05d0 \u05e0\u05e9\u05ea\u05e3 \u05d0\u05ea \u05d4\u05de\u05d9\u05d9\u05dc \u05e9\u05dc\u05da \u05e2\u05dd \u05d2\u05d5\u05e8\u05dd \u05e9\u05dc\u05d9\u05e9\u05d9"})]}),Object(x.jsxs)(ve.a.Group,{as:De.a,controlId:"formGridPassword",children:[Object(x.jsx)(ve.a.Label,{children:"\u05e1\u05d9\u05e1\u05de\u05d0"}),Object(x.jsx)(ve.a.Control,{type:"password",placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0",name:"password",ref:d({required:!0})})]})]}),Object(x.jsxs)(ve.a.Group,{controlId:"formGridName",children:[Object(x.jsx)(ve.a.Label,{children:"\u05e9\u05dd \u05de\u05dc\u05d0"}),Object(x.jsx)(ve.a.Control,{name:"fullName",ref:d({required:!0}),placeholder:"\u05dc\u05d3\u05d5\u05d2' \u05d9\u05d5\u05e1\u05d9 \u05dc\u05d5\u05d9"})]}),Object(x.jsxs)(ve.a.Group,{controlId:"formGridNumber",children:[Object(x.jsx)(ve.a.Label,{children:"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df"}),Object(x.jsx)(ve.a.Control,{name:"phone",type:"number",ref:d({required:!0}),placeholder:""})]}),Object(x.jsxs)(ve.a.Group,{controlId:"formGridAddress2",children:[Object(x.jsx)(ve.a.Label,{children:"\u05db\u05ea\u05d5\u05d1\u05ea"}),Object(x.jsx)(ve.a.Control,{name:"street",ref:d({required:!0}),placeholder:"\u05dc\u05d3\u05d5\u05d2' \u05e8\u05d7\u05d5\u05d1 \u05d8\u05d5\u05e4\u05d6 21"})]}),Object(x.jsxs)(ve.a.Group,{controlId:"formGridAddress2",children:[Object(x.jsx)(ve.a.Label,{children:"\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05de\u05e9\u05da"}),Object(x.jsx)(ve.a.Control,{name:"apartment",ref:d({required:!0}),placeholder:"\u05de\u05e1\u05e4\u05e8 \u05d3\u05d9\u05e8\u05d4, \u05e7\u05d5\u05de\u05d4 \u05d5\u05db\u05d5'"})]}),Object(x.jsx)(ve.a.Row,{children:Object(x.jsxs)(ve.a.Group,{as:De.a,controlId:"formGridCity",children:[Object(x.jsx)(ve.a.Label,{children:"\u05e2\u05d9\u05e8"}),Object(x.jsx)(ve.a.Control,{name:"city",ref:d({required:!0})})]})}),Object(x.jsx)(ve.a.Group,{id:"formGridCheckbox",children:Object(x.jsx)(ve.a.Check,{name:"checkbox",ref:d,type:"checkbox",label:"\u05e2\u05d3\u05db\u05df \u05d0\u05d5\u05ea\u05d9 \u05dc\u05d2\u05d1\u05d9 \u05de\u05d1\u05e6\u05e2\u05d9\u05dd"})}),Object(x.jsx)(_e.a,{onClick:j,variant:"success",type:"submit",children:e?"".concat(e,", \u05e0\u05e8\u05e9\u05de\u05ea \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4! \u05d4\u05e0\u05da \u05de\u05d5\u05e2\u05d1\u05e8 \u05dc\u05d3\u05e3 \u05d4\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"):"\u05d4\u05e8\u05e9\u05dd"})]}),a&&Object(x.jsx)(i.c,{to:"/auth"})]})},Ae=r(9),Le=r(65),Ee=r.n(Le),Ge=r(27),Pe=r.n(Ge),Re=(r(14),function(e){var t=null;switch(e.type){case"bread-bottom":t=Object(x.jsx)("div",{className:Pe.a.BreadBottom});break;case"bread-top":t=Object(x.jsx)(n.Fragment,{children:Object(x.jsx)("div",{className:Pe.a.BreadTop})});break;case"meat":t=Object(x.jsx)("div",{className:Pe.a.Meat,children:" "});break;case"salad":t=Object(x.jsx)("div",{className:Pe.a.Salad,children:" "});break;case"pastrama":t=Object(x.jsx)("div",{className:Pe.a.Pastrama,children:" "})}return t}),Ue=function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(Ae.a)(Array(e.ingredients[t])).map((function(e,r){return Object(x.jsx)(Re,{type:t},t+r)}))})).reduce((function(e,t){return e.concat(t)}),[]);return 0===t.length&&(t=Object(x.jsx)("p",{children:"\u05d4\u05d4\u05de\u05d1\u05d5\u05e8\u05d2\u05e8 \u05e8\u05d9\u05e7! \u05e0\u05d0 \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05e8\u05db\u05d9\u05d1\u05d9\u05dd"})),Object(x.jsxs)("div",{className:Ee.a.Burger,children:[Object(x.jsx)(Re,{type:"bread-top"}),t,Object(x.jsx)(Re,{type:"bread-bottom"})]})},He=r(44),Me=r.n(He),Fe=r(33),ze=r.n(Fe),Ze=function(e){return Object(x.jsxs)("div",{className:ze.a.BuildControl,children:[Object(x.jsx)("div",{className:ze.a.Label,children:e.label}),Object(x.jsx)("button",{className:ze.a.More,onClick:e.added,children:"\u05d4\u05d5\u05e1\u05e3 \u05db\u05de\u05d5\u05ea"}),Object(x.jsx)("button",{disabled:e.disabled,className:ze.a.Less,onClick:e.dedacted,children:"\u05d4\u05d7\u05e1\u05e8 \u05db\u05de\u05d5\u05ea"})]})},qe=[{label:"\u05e1\u05dc\u05d8",type:"salad"},{label:"\u05e4\u05e1\u05d8\u05e8\u05de\u05d4",type:"pastrama"},{label:"\u05d1\u05e9\u05e8",type:"meat"}],Ke=function(e){return Object(x.jsxs)("div",{className:Me.a.BuildControls,children:[Object(x.jsxs)("p",{children:["\u05de\u05d7\u05d9\u05e8 \u05d4\u05d1\u05d5\u05e8\u05d2\u05e8:",Object(x.jsx)("strong",{children:e.price})]}),qe.map((function(t){return Object(x.jsx)(Ze,{label:t.label,added:function(){return e.ingredientAdded(t.type)},dedacted:function(){return e.ingredientDedacted(t.type)},disabled:e.buttonDisabled[t.type]},t.label)})),Object(x.jsx)("button",{className:Me.a.OrderButton,disabled:e.orderButton,onClick:e.backdrop,children:"\u05d4\u05d6\u05de\u05df \u05e2\u05db\u05e9\u05d9\u05d5!"})]})},We=r(66),Ye=r.n(We),Xe=function(e){return Object(x.jsx)("div",{className:Ye.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-1000vh)",opacity:e.show?"1":"0"},children:e.children})},Ve=r(45),$e=r.n(Ve),Je=function(e){return Object(x.jsx)("button",{className:[$e.a.Button,$e.a[e.btnType]].join(" "),onClick:e.clicked,children:e.children})},Qe=function(e){if(!e.ingredients)return null;var t=Object.keys(e.ingredients).map((function(t){var r=null;switch(t){case"meat":r="\u05d1\u05e9\u05e8";break;case"salad":r="\u05e1\u05dc\u05d8";break;case"pastrama":r="\u05e4\u05e1\u05d8\u05e8\u05de\u05d4"}return Object(x.jsxs)("li",{children:[r,":",e.ingredients[t]]},t)}));return Object(x.jsxs)(n.Fragment,{children:[Object(x.jsx)("h3",{children:" \u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05e9\u05dc\u05da:"}),Object(x.jsx)("p",{children:"\u05d4\u05de\u05d1\u05d5\u05e8\u05d2\u05e8 \u05de\u05e4\u05e0\u05e7 \u05e2\u05dd \u05d4\u05ea\u05d5\u05e1\u05e4\u05d5\u05ea \u05d4\u05d1\u05d0\u05d5\u05ea: "}),Object(x.jsx)("ul",{children:t}),Object(x.jsxs)("p",{children:['\u05e1\u05d4"\u05db \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd:',e.total,' \u05e9"\u05d7']}),Object(x.jsx)("p",{children:"\u05d4\u05de\u05e9\u05da \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd?"}),Object(x.jsx)(o.Link,{to:{pathname:"/checkout",meat:e.ingredients.meat,pastrama:e.ingredients.pastrama,salad:e.ingredients.salad,price:e.total},children:Object(x.jsx)(Je,{clicked:e.confirm,btnType:"Success",children:"\u05d0\u05d9\u05e9\u05d5\u05e8"})}),Object(x.jsx)(o.Link,{to:"/",children:Object(x.jsx)(Je,{clicked:e.backdrop,btnType:"Danger",children:"\u05d1\u05d9\u05d8\u05d5\u05dc"})})]})},et=function(e,t){return function(r){Object(u.a)(c,r);var a=Object(j.a)(c);function c(){var e;Object(l.a)(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=a.call.apply(a,[this].concat(r))).state={error:null},e}return Object(d.a)(c,[{key:"componentDidCatch",value:function(){var e=this;t.interceptors.request.use((function(t){return e.setState({error:null}),t})),t.interceptors.response.use((function(e){return e}),(function(t){e.setState({error:t})}))}},{key:"render",value:function(){return Object(x.jsxs)(n.Fragment,{children:[Object(x.jsx)(Xe,{show:this.state.error,children:this.state.error?this.state.error.message:null}),Object(x.jsx)(e,Object($.a)({},this.props))]})}}]),c}(n.Component)},tt=function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={backdrop:!1,loading:!1},e}return Object(d.a)(r,[{key:"componentDidMount",value:function(){this.props.loggedIn||(this.props.onResetPurchase(),this.props.onInitIgredients())}},{key:"confirmPurchaseHandler",value:function(){this.props.onInitPurchase(),this.props.history.push("/checkout")}},{key:"cancelPurchaseHandler",value:function(){!1===this.state.backdrop?this.setState({backdrop:!0}):this.setState({backdrop:!1})}},{key:"render",value:function(){var e=Object($.a)({},this.props.ingredients);for(var t in e)e[t]=e[t]<=0;var r=Object(x.jsx)(Qe,{ingredients:this.props.ingredients,confirm:this.confirmPurchaseHandler.bind(this),backdrop:this.cancelPurchaseHandler.bind(this),total:this.props.totalPrice}),a=this.props.error?Object(x.jsx)("p",{children:"\u05db\u05e0\u05e8\u05d0\u05d4 \u05e9\u05d9\u05e9 \u05ea\u05e7\u05dc\u05d4 \u05d1\u05e9\u05e8\u05ea! \u05e2\u05de\u05db\u05dd \u05d4\u05e1\u05dc\u05d9\u05d7\u05d4"}):Object(x.jsx)(we,{});return this.props.ingredients&&(a=Object(x.jsxs)(n.Fragment,{children:[" ",Object(x.jsx)(Ue,{ingredients:this.props.ingredients}),Object(x.jsx)(Ke,{ingredientAdded:this.props.onIngredientsAdded,ingredientDedacted:this.props.onIngredientsRemoved,buttonDisabled:e,price:this.props.totalPrice,orderButton:this.props.orderButton,backdrop:this.cancelPurchaseHandler.bind(this)})]})),Object(x.jsxs)(n.Fragment,{children:[Object(x.jsx)(me,{show:this.state.backdrop,disable:this.cancelPurchaseHandler.bind(this)}),Object(x.jsx)(Xe,{show:this.state.backdrop,children:r}),a]})}}]),r}(n.Component),rt=Object(s.b)((function(e){return{ingredients:e.burgerBuilder.ingredients,totalPrice:e.burgerBuilder.totalPrice,orderButton:e.burgerBuilder.orderButton,error:e.burgerBuilder.error,loggedIn:e.auth.success}}),(function(e){return{onIngredientsAdded:function(t){return e({type:I,ingredientName:t})},onIngredientsRemoved:function(t){return e({type:N,ingredientName:t})},onInitIgredients:function(){return e(V())},onInitPurchase:function(){return e({type:R})},onResetPurchase:function(){return e({type:B})}}}))(et(tt)),nt=r(67),at=r.n(nt),ct=function(e){return Object(x.jsxs)("div",{className:at.a.CheckoutSummary,children:[Object(x.jsx)("h1",{children:"\u05de\u05e7\u05d5\u05d5\u05d9\u05dd \u05e9\u05ea\u05d4\u05e0\u05d5 \u05de\u05d4\u05d4\u05de\u05d1\u05d5\u05e8\u05d2\u05e8!"}),Object(x.jsx)("div",{style:{width:"100%",margin:"auto"},children:Object(x.jsx)(Ue,{ingredients:e.ingredients})}),Object(x.jsx)(Je,{btnType:"Success",clicked:e.checkoutContinued,children:"\u05d4\u05de\u05e9\u05da"}),Object(x.jsx)(Je,{btnType:"Danger",clicked:e.checkoutCancelled,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"})]})},ot=r(68),it=r.n(ot),st=function(){var e=Object(s.d)((function(e){return e.burgerBuilder.ingredients})),t=Object(s.d)((function(e){return e.burgerBuilder.totalPrice})),r=Object(s.d)((function(e){return e.order.loading})),a=Object(s.d)((function(e){return e.auth.success})),c=Object(s.d)((function(e){return e.order.userPhone})),o=Object(s.d)((function(e){return e.order.userStreet})),i=Object(s.d)((function(e){return e.order.userCity})),l=Object(s.d)((function(e){return e.order.userFloor})),d=Object(s.d)((function(e){return e.order.userMail})),u=Object(s.d)((function(e){return e.order.userName})),j={ings:e,price:t},b=Object(s.c)();Object(n.useEffect)((function(){a&&b(Q())}),[b,a]),Object(n.useEffect)((function(){a&&b(te())}),[b,a]);var h=Object(x.jsxs)("p",{children:[Object(x.jsx)("b",{children:"\u05d0\u05d5 \u05d4\u05ea\u05d7\u05d1\u05e8 \u05dc\u05de\u05e9\u05ea\u05de\u05e9 \u05e9\u05dc\u05da:"}),Object(x.jsx)(Be,{})]}),O=Object(ke.a)(),p=O.register,m=O.handleSubmit,g=(O.watch,O.errors,Object(x.jsxs)(ve.a,{onSubmit:m((function(e){j.data=e,b(ee(j))})),children:[Object(x.jsx)(ve.a.Row,{children:Object(x.jsxs)(ve.a.Group,{as:De.a,controlId:"formGridEmail",children:[Object(x.jsx)(ve.a.Label,{children:"\u05de\u05d9\u05d9\u05dc"}),Object(x.jsx)(ve.a.Control,{value:d,type:"email",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc",name:"email",onChange:function(e){return b(ne(e.target.value,"userMail"))},ref:p({pattern:/^([a-zA-Z0-9]+(?:[.-]?[a-zA-Z0-9]+)*@[a-zA-Z0-9]+(?:[.-]?[a-zA-Z0-9]+)*\.[a-zA-Z]{2,7})$/})}),Object(x.jsx)(ve.a.Text,{className:"text-muted",children:"\u05d0\u05e0\u05d5 \u05dc\u05e2\u05d5\u05dc\u05dd \u05dc\u05d0 \u05e0\u05e9\u05ea\u05e3 \u05d0\u05ea \u05d4\u05de\u05d9\u05d9\u05dc \u05e9\u05dc\u05da \u05e2\u05dd \u05d2\u05d5\u05e8\u05dd \u05e9\u05dc\u05d9\u05e9\u05d9"})]})}),Object(x.jsxs)(ve.a.Group,{controlId:"formGridAddress1",children:[Object(x.jsx)(ve.a.Label,{children:"\u05e9\u05dd \u05de\u05dc\u05d0"}),Object(x.jsx)(ve.a.Control,{value:u,onChange:function(e){return b(ne(e.target.value,"userName"))},name:"fullName",ref:p,placeholder:"\u05dc\u05d3\u05d5\u05d2' \u05d9\u05d5\u05e1\u05d9 \u05dc\u05d5\u05d9"})]}),Object(x.jsxs)(ve.a.Group,{controlId:"formGridAddress1",children:[Object(x.jsx)(ve.a.Label,{children:"\u05db\u05ea\u05d5\u05d1\u05ea"}),Object(x.jsx)(ve.a.Control,{value:o,onChange:function(e){return b(ne(e.target.value,"userStreet"))},name:"street",ref:p,placeholder:"\u05dc\u05d3\u05d5\u05d2' \u05e8\u05d7\u05d5\u05d1 \u05d8\u05d5\u05e4\u05d6 21"})]}),Object(x.jsxs)(ve.a.Group,{controlId:"formGridNumber",children:[Object(x.jsx)(ve.a.Label,{children:"\u05de\u05e1\u05e4\u05e8 \u05d8\u05dc\u05e4\u05d5\u05df"}),Object(x.jsx)(ve.a.Control,{value:c,name:"phone",type:"number",ref:p({required:!0}),placeholder:""})]}),Object(x.jsxs)(ve.a.Group,{controlId:"formGridAddress2",children:[Object(x.jsx)(ve.a.Label,{children:"\u05db\u05ea\u05d5\u05d1\u05ea \u05d4\u05de\u05e9\u05da"}),Object(x.jsx)(ve.a.Control,{value:l,onChange:function(e){return b(ne(e.target.value,"userFloor"))},name:"apartment",ref:p,placeholder:"\u05de\u05e1\u05e4\u05e8 \u05d3\u05d9\u05e8\u05d4, \u05e7\u05d5\u05de\u05d4 \u05d5\u05db\u05d5'"})]}),Object(x.jsx)(ve.a.Row,{children:Object(x.jsxs)(ve.a.Group,{as:De.a,controlId:"formGridCity",children:[Object(x.jsx)(ve.a.Label,{children:"\u05e2\u05d9\u05e8"}),Object(x.jsx)(ve.a.Control,{value:i,onChange:function(e){return b(ne(e.target.value,"userCity"))},name:"city",ref:p})]})}),Object(x.jsx)(ve.a.Group,{id:"formGridCheckbox",children:Object(x.jsx)(ve.a.Check,{name:"checkbox",ref:p,type:"checkbox",label:"\u05e2\u05d3\u05db\u05df \u05d0\u05d5\u05ea\u05d9 \u05dc\u05d2\u05d1\u05d9 \u05de\u05d1\u05e6\u05e2\u05d9\u05dd"})}),Object(x.jsx)(_e.a,{variant:"success",type:"submit",children:"\u05e9\u05dc\u05dd"})]}));return r&&(g=Object(x.jsx)(we,{})),Object(x.jsxs)("div",{className:it.a.ContactData,children:[Object(x.jsx)("h4",{children:"\u05e0\u05d0 \u05e8\u05e9\u05d5\u05dd \u05d0\u05ea \u05e4\u05e8\u05d8\u05d9 \u05d4\u05d4\u05ea\u05e7\u05e9\u05e8\u05d5\u05ea \u05e9\u05dc\u05da"}),g,!a&&h]})},lt=function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).checkoutCancelledHandler=function(){e.props.history.goBack()},e.checkoutContinuedHandler=function(){e.props.history.replace("/checkout/contact-data")},e}return Object(d.a)(r,[{key:"render",value:function(){var e=Object(x.jsx)(i.c,{to:"/"});if(this.props.ings){var t=this.props.purchased&&Object(x.jsx)(i.c,{to:"/"});e=Object(x.jsxs)("div",{children:[t,Object(x.jsx)(ct,{ingredients:this.props.ings,checkoutCancelled:this.checkoutCancelledHandler,checkoutContinued:this.checkoutContinuedHandler})]})}return Object(x.jsxs)("div",{children:[e,Object(x.jsx)(i.d,{exact:!0,path:this.props.match.path+"/contact-data",component:st})]})}}]),r}(n.Component),dt=Object(s.b)((function(e){return{ings:e.burgerBuilder.ingredients,purchased:e.order.purchasing}}))(lt),ut=r(69),jt=r.n(ut),bt=function(e){var t=[];for(var r in e.ingredients)t.push({amount:e.ingredients[r],name:r});var n=t.map((function(e){var t=null;return"meat"===e.name?t="\u05d1\u05e9\u05e8":"pastrama"===e.name?t="\u05e4\u05e1\u05d8\u05e8\u05de\u05d4":"salad"===e.name&&(t="\u05e1\u05dc\u05d8"),Object(x.jsxs)("span",{style:{padding:"5px",display:"inline-block",border:"1px solid #ccc"},children:[t," (",e.amount,")"]},e.name)}));return Object(x.jsxs)("div",{className:jt.a.Order,children:[Object(x.jsxs)("p",{children:["\u05e4\u05e8\u05d8\u05d9 \u05d4\u05d6\u05de\u05e0\u05d4: ",n]}),Object(x.jsxs)("p",{children:["\u05de\u05d7\u05d9\u05e8: ",Object(x.jsxs)("strong",{children:[" ",e.price]})]})]})},ht=function(){var e=Object(s.c)();Object(n.useEffect)((function(){e(re())}),[]);var t=Object(s.d)((function(e){return e.order.orders}));return Object(x.jsx)("div",{children:t.map((function(e){return Object(x.jsx)(bt,{price:e.price,ingredients:e.ings},e.id)}))})},Ot=function(){var e=Object(s.d)((function(e){return e.auth.success})),t=Object(s.c)();return Object(n.useEffect)((function(){t((function(e){var t={idToken:localStorage.getItem("token"),localId:localStorage.getItem("userId"),email:localStorage.getItem("userEmail")};if(t.idToken){var r=new Date(localStorage.getItem("expirationDate"));r<new Date?e(ie()):(e(ce(t)),e(se((r.getTime()-(new Date).getTime())/1e3)))}else e(ie())}))}),[t]),Object(x.jsx)(o.BrowserRouter,{basename:"",children:Object(x.jsx)("div",{children:Object(x.jsx)(fe,{children:Object(x.jsxs)(i.g,{children:[Object(x.jsx)(i.d,{path:"/signUp",component:Te}),Object(x.jsx)(i.d,{path:"/Auth",component:Be}),Object(x.jsx)(i.d,{path:"/checkout",component:dt}),Object(x.jsx)(i.d,{path:"/orders",component:e&&ht}),Object(x.jsx)(i.d,{path:"/",exact:!0,component:rt})]})})})})},pt=r(23),mt=r(70),gt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ft(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var xt=r(10),vt={salad:5,pastrama:15,meat:20},_t={ingredients:null,totalPrice:30,orderButton:!0,error:!1},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object($.a)(Object($.a)({},e),{},{ingredients:_t.ingredients,totalPrice:_t.totalPrice,orderButton:_t.orderButton,error:_t.error});case I:return"meat"===t.ingredientName?Object($.a)(Object($.a)({},e),{},{ingredients:Object($.a)(Object($.a)({},e.ingredients),{},Object(xt.a)({},t.ingredientName,e.ingredients[t.ingredientName]+1)),totalPrice:e.totalPrice+vt[t.ingredientName],orderButton:!1}):Object($.a)(Object($.a)({},e),{},{ingredients:Object($.a)(Object($.a)({},e.ingredients),{},Object(xt.a)({},t.ingredientName,e.ingredients[t.ingredientName]+1)),totalPrice:e.totalPrice+vt[t.ingredientName]});case N:return"meat"===t.ingredientName&&1===e.ingredients.meat?Object($.a)(Object($.a)({},e),{},{ingredients:Object($.a)(Object($.a)({},e.ingredients),{},Object(xt.a)({},t.ingredientName,e.ingredients[t.ingredientName]-1)),totalPrice:e.totalPrice-vt[t.ingredientName],orderButton:!0}):Object($.a)(Object($.a)({},e),{},{ingredients:Object($.a)(Object($.a)({},e.ingredients),{},Object(xt.a)({},t.ingredientName,e.ingredients[t.ingredientName]-1)),totalPrice:e.totalPrice-vt[t.ingredientName]});case w:return Object($.a)(Object($.a)({},e),{},{ingredients:{salad:t.ingredients.salad,pastrama:t.ingredients.pastrama,meat:t.ingredients.meat},error:!1});case D:return Object($.a)(Object($.a)({},e),{},{error:!0});default:return e}},kt={orders:[],loading:!1,purchasing:!1,userName:"",userStreet:"",userFloor:"",userPhone:"",userCity:"",userMail:"",typeOfDelivery:""},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object($.a)(Object($.a)({},e),{},{purchasing:!1});case T:return Object($.a)(Object($.a)({},e),{},{loading:!0});case A:var r=Object($.a)(Object($.a)({},t.orderData),{},{id:t.orderId});return Object($.a)(Object($.a)({},e),{},{loading:!1,purchasing:!0,orders:e.orders.concat(r)});case L:return Object($.a)(Object($.a)({},e),{},{loading:!1});case q:var n=t.userData;return n=n[t.folderKey],Object($.a)(Object($.a)({},e),{},{userName:n.fullName,userStreet:n.street,userPhone:n.phone,userFloor:n.floor,userCity:n.city,userMail:n.email,typeOfDelivery:null,loading:!1});case Z:return Object($.a)(Object($.a)({},e),{},{userName:"",userStreet:"",userPhone:"",userFloor:"",userCity:"",userMail:"",typeOfDelivery:null,loading:!1});case E:return Object($.a)(Object($.a)({},e),{},{loading:!0});case G:return Object($.a)(Object($.a)({},e),{},{orders:t.orders,loading:!1});case P:return Object($.a)(Object($.a)({},e),{},{loading:!1});case K:var a=t.payload,c=a.textInput,o=a.inputType;return Object($.a)(Object($.a)({},e),{},Object(xt.a)({},o,c));default:return e}},St={token:null,userId:null,error:null,loading:!1,success:!1,fullName:null,email:null},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object($.a)(Object($.a)({},e),{},{error:null,loading:!0});case M:return Object($.a)(Object($.a)({},e),{},{token:t.idToken,userId:t.userId,error:null,loading:!1,success:!0,email:t.email});case F:return Object($.a)(Object($.a)({},e),{},{error:t.error,loading:!1});case U:return Object($.a)(Object($.a)({},e),{},{fullName:t.fullName});case z:return Object($.a)(Object($.a)({},e),{},{token:null,userId:null,error:null,loading:!1,success:!1,fullName:null,email:null});default:return e}},Nt=pt.d,wt=Object(pt.c)({burgerBuilder:yt,order:Ct,auth:It}),Bt=Object(pt.e)(wt,Nt(Object(pt.a)(mt.a)));c.a.render(Object(x.jsx)(s.a,{store:Bt,children:Object(x.jsx)(Ot,{})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");gt?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ft(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):ft(e)}))}}()},24:function(e,t,r){e.exports={container:"Auth_container__3fnLb",email:"Auth_email__1t8qA",Button:"Auth_Button__3mDaR"}},27:function(e,t,r){e.exports={BreadBottom:"BurgerIngredient_BreadBottom__1c-R6",BreadTop:"BurgerIngredient_BreadTop__OByvs",Seeds1:"BurgerIngredient_Seeds1__1y76b",Seeds2:"BurgerIngredient_Seeds2__2AnGR",Meat:"BurgerIngredient_Meat__gXm8p",Salad:"BurgerIngredient_Salad___lrdW",Pastrama:"BurgerIngredient_Pastrama__6hWAx"}},31:function(e,t,r){e.exports={Toolbar:"Toolbar_Toolbar__ApScI",Logo:"Toolbar_Logo__3Lk47",DesktopOnly:"Toolbar_DesktopOnly__LuPaL",MobileOnly:"Toolbar_MobileOnly__2dOKa"}},32:function(e,t,r){e.exports={SideDrawer:"SideDrawer_SideDrawer__3kXLK",Open:"SideDrawer_Open__1tCv1",Close:"SideDrawer_Close__9j7x-",Logo:"SideDrawer_Logo__3voUv"}},33:function(e,t,r){e.exports={BuildControl:"BuildControl_BuildControl__O8649",Label:"BuildControl_Label__TQkTk",Less:"BuildControl_Less__3Ttg8",More:"BuildControl_More__1MY7B"}},36:function(e,t,r){e.exports={NavigationItems:"NavigationItems_NavigationItems__1fnFX"}},44:function(e,t,r){e.exports={BuildControls:"BuildControls_BuildControls__1YmbS",OrderButton:"BuildControls_OrderButton___M-Du",enable:"BuildControls_enable__9xLsD"}},45:function(e,t,r){e.exports={Button:"Button_Button__3gFiX",Success:"Button_Success__2Rka1",Danger:"Button_Danger__2ogZq"}},59:function(e,t,r){e.exports={Content:"Layout_Content__2WLOk"}},60:function(e,t,r){e.exports={Logo:"Logo_Logo__1N0xH"}},61:function(e,t,r){e.exports={NavigationItem:"NavigationItem_NavigationItem__2SpXc",active:"NavigationItem_active__2v2td"}},62:function(e,t,r){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},63:function(e,t,r){e.exports={Loader:"Spinner_Loader__1twK-",load6:"Spinner_load6__1_74m",round:"Spinner_round__3G_CY"}},65:function(e,t,r){e.exports={Burger:"Burger_Burger__10T8F"}},66:function(e,t,r){e.exports={Modal:"Modal_Modal__1-5dN"}},67:function(e,t,r){e.exports={CheckoutSummary:"CheckoutSummary_CheckoutSummary__3PsXi"}},68:function(e,t,r){e.exports={ContactData:"ContactData_ContactData__20AK_",rtl:"ContactData_rtl__3uxMZ"}},69:function(e,t,r){e.exports={Order:"Order_Order__2IgbG"}},75:function(e,t,r){}},[[105,1,2]]]);
//# sourceMappingURL=main.ef0454e2.chunk.js.map